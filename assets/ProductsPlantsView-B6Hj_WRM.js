import{g as $,h as j,f as Q,D as W,o as i,c as d,a as e,n as E,t as r,i as A,u as h,j as I,k as N,l as R,v as q,F as x,m as T,p as L,q as y,d as O,s as X,w as Y,R as Z}from"./index-CRHRRv6l.js";import{_ as ee}from"./loginicon-BV9N7I-9.js";import{u as se}from"./useProductsPlants-dniOQCxT.js";import{g as te,f as z}from"./utilsTools-e36Ag0H8.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{p as ae}from"./dataPlants-BuaGpztk.js";const le={class:"dropdown"},oe=["id","data-bs-auto-close"],ie={key:0,class:"item-data"},de={key:1,class:"placeholder-label"},ne={key:2},re=["aria-labelledby"],ce={class:"w-100 py-0 px-2"},ue=["disabled"],ve={class:"w-100 py-0 px-2 scroll-item"},me={key:0,class:"item-data"},_e=["onClick"],pe={class:"elements-menu"},be=["onClick"],ye={key:1,class:"dropdown-item-text empty-list"},he={__name:"MultiSelectProducts",props:{products:{type:Array,default:()=>[]},selected:{type:Array,default:()=>[]},clearable:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},options:{type:Object,default:()=>{}}},emits:["selected-data","update:selected"],setup(M,{emit:S}){const u=M,p=S,m=te(),B=`${m}-search`,c=L(u,"products"),f=L(u,"selected"),b=L(u,"clearable"),g=L(u,"disabled"),C=L(u,"options"),_=$(""),o=$(),s=y(()=>{var n;return[!0,!1,"outside","inside"].includes((n=C.value)==null?void 0:n.autoClose)?C.value.autoClose:!0}),t=y(()=>{const n=_.value.trim().toLowerCase();return n?c.value.filter(l=>l.name.toLowerCase().includes(n)||l.type.toLowerCase().includes(n)||l.size.toLowerCase().includes(n)||l.price.toString().toLowerCase().includes(n)):c.value}),a=$([...f.value]),k=n=>a.value.some(l=>l.id===n.id),D=n=>{if(!k(n)){a.value.push(n),a.value.sort((l,w)=>l.id-w.id),_.value="",P();return}a.value=a.value.filter(l=>l.id!==n.id),_.value="",P()},H=()=>{g.value||(a.value=[],_.value="",P())},P=()=>{p("selected-data",a.value),p("update:selected",a.value)},J=()=>{var n;if(c.value.length===0){a.value=[],(n=o.value)==null||n.hide(),P();return}a.value=c.value.filter(l=>f.value.some(w=>w.id===l.id)),P()};return j(c,()=>J(),{deep:!0}),j(f,()=>{a.value=[...f.value]},{deep:!0}),Q(()=>{o.value=new W(document.getElementById(m)),document.getElementById(m).addEventListener("shown.bs.dropdown",()=>{document.getElementById(B).focus()}),document.getElementById(m).addEventListener("hidden.bs.dropdown",()=>{_.value=""})}),(n,l)=>{var w,V,F,U;return i(),d("div",le,[e("div",{id:h(m),class:E(["form-control selected-input",{disabled:g.value||c.value.length===0}]),style:A((F=(V=(w=C.value)==null?void 0:w.styles)==null?void 0:V["selected-input"])==null?void 0:F.join(";")),"data-bs-auto-close":s.value,"data-bs-toggle":"dropdown","aria-expanded":"false","data-bs-offset":"0,1"},[e("div",{class:E(["item-selected",{empty:((U=a.value)==null?void 0:U.length)===0}])},[a.value.length>0?(i(),d("div",ie,r(a.value.length)+" seleccionada(s) ",1)):c.value.length>0?(i(),d("div",de," Seleccionar... ")):(i(),d("div",ne," Lista vacía "))],2)],14,oe),b.value?(i(),d("a",{key:0,class:E(["empty-btn",{disabled:g.value||c.value.length===0}]),onClick:I(H,["prevent"])},[...l[1]||(l[1]=[e("i",{class:"bx bx-x"},null,-1)])],2)):N("",!0),e("ul",{class:"dropdown-menu","aria-labelledby":h(m)},[e("div",ce,[R(e("input",{id:B,class:"form-control search-input",type:"text",placeholder:"Buscar...","onUpdate:modelValue":l[0]||(l[0]=v=>_.value=v),disabled:c.value.length===0},null,8,ue),[[q,_.value]])]),l[2]||(l[2]=e("hr",{class:"dropdown-divider"},null,-1)),e("div",ve,[a.value.length>0?(i(),d("div",me,[(i(!0),d(x,null,T(a.value,v=>(i(),d("div",{key:v.id,class:"location-info selected text-truncate cursor-pointer",onClick:I(K=>D(v),["prevent"])},r(`${v.name} de $${h(z)(v.price)}`),9,_e))),128))])):N("",!0)]),l[3]||(l[3]=e("hr",{class:"dropdown-divider"},null,-1)),e("div",pe,[t.value.length>0?(i(!0),d(x,{key:0},T(t.value,v=>(i(),d("li",{key:v.id},[e("button",{class:E(["location-info item cursor-pointer",{"item-selected":k(v)}]),onClick:I(K=>D(v),["prevent"])},r(`${v.name} de $${h(z)(v.price)}`),11,be)]))),128)):(i(),d("li",ye,r(c.value.length===0?"Lista vacía":"No hay coincidencias"),1))])],8,re)])}}},fe=G(he,[["__scopeId","data-v-d93a0241"]]),ge={class:"banner-card",style:{"--stagger":"0ms"}},we={class:"card-items"},$e={class:"search-card"},Ce={class:"search search-autocomplete","data-bs-toggle":"tooltip","data-bs-placement":"top","data-bs-custom-class":"no-arrow-tooltip","data-bs-html":"true",title:"<div class='search-tooltip'>Puedes buscar productos por nombre o tipo de planta</div>"},ke={class:"input-group input-search"},Pe={key:0,class:"autocomplete-list"},Le=["onMousedown"],xe={class:"autocomplete-name"},Se={class:"autocomplete-type"},Be={class:"general-card"},Ee=["onClick"],Ie={class:"card-item"},Te={class:"header-card"},ze={class:"header-item"},Me=["src","alt"],De={class:"body-card"},Ne={class:"body-item"},Ve={class:"body-item-data"},Fe={class:"body-item"},Ue={class:"body-item-data"},je={class:"body-item"},Ae={class:"body-item-data"},Re={class:"body-item"},qe={class:"body-item-data"},Oe={key:1,class:"card-content-disabled"},Ge={class:"card-item"},He={class:"header-card"},Je={class:"header-item"},Ke=["src","alt"],Qe={class:"body-card"},We={class:"body-item"},Xe={class:"body-item-data-disabled"},Ye={class:"body-item"},Ze={class:"body-item-data-disabled"},es={class:"body-item"},ss={class:"body-item-data-disabled"},ts={class:"body-item"},as={class:"body-item-data-disabled"},ls={__name:"ProductsPlants",setup(M){const{selectProductPlant:S}=se(),u=$([]),p=$(""),m=y(()=>{const o=[],s=[];return ae.forEach(t=>{t.categoryId===1&&(t.enabled?o.push(t):s.push(t))}),[...o,...s]}),B=y(()=>u.value.length===0&&c.value.length===0?m.value:u.value.length>0?u.value:c.value),c=y(()=>{const o=p.value.trim().toLowerCase();return o?m.value.filter(s=>s.name.toLowerCase().includes(o)||s.type.toLowerCase().includes(o)||s.size.toLowerCase().includes(o)||s.price.toString().toLowerCase().includes(o)):m.value}),f=o=>{S(o)},b=$(!1),g=y(()=>{const o=p.value.trim().toLowerCase();return o?m.value.filter(s=>s.name.toLowerCase().includes(o)||s.type.toLowerCase().includes(o)).slice(0,6):[]}),C=y(()=>b.value&&g.value.length>0),_=o=>{p.value=o.name,b.value=!1};return(o,s)=>(i(),d(x,null,[e("div",ge,[s[6]||(s[6]=e("div",{class:"banner-content"},[e("div",{class:"banner-item"},[e("span",{class:"banner-item-label text-truncate"}," Plantas Carnivoras "),e("img",{src:ee,alt:"Login Icon",class:"icon"})])],-1)),e("div",we,[e("div",$e,[e("div",Ce,[e("div",ke,[R(e("input",{class:"form-control",type:"text",placeholder:"Buscar por nombre o tipo de planta","onUpdate:modelValue":s[0]||(s[0]=t=>p.value=t),onFocus:s[1]||(s[1]=t=>b.value=!0),onInput:s[2]||(s[2]=t=>b.value=!0),onBlur:s[3]||(s[3]=t=>b.value=!1)},null,544),[[q,p.value]]),s[5]||(s[5]=e("span",{class:"input-group-text"},[e("i",{class:"bi bi-search"})],-1))]),C.value?(i(),d("ul",Pe,[(i(!0),d(x,null,T(g.value,(t,a)=>(i(),d("li",{key:a,class:"autocomplete-item",onMousedown:I(k=>_(t),["prevent"])},[e("div",xe,r(t.name),1),e("div",Se,r(t.type)+" • "+r(t.size),1)],40,Le))),128))])):N("",!0)])]),O(fe,{class:"multi-select",products:c.value,selected:u.value,"onUpdate:selected":s[4]||(s[4]=t=>u.value=t),placeholder:"Seleccionar productos..."},null,8,["products","selected"])])]),e("div",Be,[(i(!0),d(x,null,T(B.value,(t,a)=>(i(),d("div",{key:a,class:"animation",style:A({"--stagger":`${a*200}ms`})},[t.enabled?(i(),X(h(Z),{key:0,to:`/products/plants/${t.id}`,custom:""},{default:Y(({navigate:k})=>[e("div",{class:"card-content",onClick:D=>(f(t),k())},[e("div",Ie,[e("div",Te,[e("div",ze,[e("img",{src:t.image,alt:t.type,class:"image-product"},null,8,Me)])]),e("div",De,[e("div",Ne,[s[7]||(s[7]=e("div",{class:"body-item-label"}," Nombre: ",-1)),e("div",Ve,r(t.name),1)]),e("div",Fe,[s[8]||(s[8]=e("div",{class:"body-item-label"}," Tipo: ",-1)),e("div",Ue,r(t!=null&&t.cultivar?"Cultivar":"Tipica"),1)]),e("div",je,[s[9]||(s[9]=e("div",{class:"body-item-label"}," Tamaño: ",-1)),e("div",Ae,r(t.size),1)]),e("div",Re,[s[10]||(s[10]=e("div",{class:"body-item-label"}," Precio: ",-1)),e("div",qe,r(h(z)(t.price)),1)])])])],8,Ee)]),_:2},1032,["to"])):(i(),d("div",Oe,[e("div",Ge,[e("div",He,[e("div",Je,[e("img",{src:t.image,alt:t.type,class:"image-product"},null,8,Ke)])]),e("div",Qe,[e("div",We,[s[11]||(s[11]=e("div",{class:"body-item-label-disabled"}," Nombre: ",-1)),e("div",Xe,r(t.name),1)]),e("div",Ye,[s[12]||(s[12]=e("div",{class:"body-item-label-disabled"}," Tipo: ",-1)),e("div",Ze,r(t!=null&&t.cultivar?"Cultivar":"Tipica"),1)]),e("div",es,[s[13]||(s[13]=e("div",{class:"body-item-label-disabled"}," Tamaño: ",-1)),e("div",ss,r(t.size),1)]),e("div",ts,[s[14]||(s[14]=e("div",{class:"body-item-label-disabled"}," Precio: ",-1)),e("div",as,r(h(z)(t.price)),1)])])]),s[15]||(s[15]=e("div",{class:"out-stock"}," Agotado ",-1))]))],4))),128))])],64))}},os=G(ls,[["__scopeId","data-v-5b7d1ff8"]]),is={class:"page-container"},ms={__name:"ProductsPlantsView",setup(M){return(S,u)=>(i(),d("div",is,[O(os)]))}};export{ms as default};
